
{% extends "templates/custom_base.html" %}

{% block content %}


<body>

    <!-- Scroll-top -->
    <button class="scroll__top scroll-to-target" data-target="html">
        <i class="tg-flaticon-arrowhead-up"></i>
    </button>
    <!-- Scroll-top-end-->

    <!-- header-area -->
    <!-- header-area-end -->



    <!-- main-area -->
    <main class="main-area fix">

        <!-- contact-area -->
        <section class="contact-area section-py-120" data-aos="fade-up" data-aos-delay="200">
            <div class="container">
                <div class="row">
                    <div class="col-lg-4">
                        <div class="contact-info-wrap">
                            <ul class="list-wrap">
                                <li>
                                    <div class="icon">
                                        <img src="assets/tnc_frappe_custom_app/tnc/img/icons/map.svg" alt="img" class="injectable">
                                    </div>
                                    <div class="content">
                                        <h4 class="title">Address</h4>
                                        <p>Near Bharat petrol pump, Golumber, Anisabad, Patna, Bihar 800002</p>
                                    </div>
                                </li>
                                <li>
                                    <div class="icon">
                                        <img src="assets/tnc_frappe_custom_app/tnc/img/icons/contact_phone.svg" alt="img" class="injectable">
                                    </div>
                                    <div class="content">
                                        <h4 class="title">Phone</h4>
                                        <a href="tel:+91 74849 99051">(+91) 74849 99051</a>
                                    </div>
                                </li>
                                <li>
                                    <div class="icon">
                                        <img src="assets/tnc_frappe_custom_app/tnc/img/icons/emial.svg" alt="img" class="injectable">
                                    </div>
                                    <div class="content">
                                        <h4 class="title">E-mail Address</h4>
                                        <a href="mailto:tncnursing@gmail.com">tncnursing@gmail.com</a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-8">
                        <div class="contact-form-wrap">
                            <h4 class="title">Send Us Message</h4>
                            <p>Your email address will not be published. Required fields are marked</p>
                            <form id="contact">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-grp">
                                            <input name="name" type="text" placeholder="Name" required>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-grp">
                                            <input name="email" type="email" placeholder="E-mail" required>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-grp">
                                            <input name="mobile" type="tel" placeholder="Mobile" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-grp">
                                    <textarea name="message" placeholder="Message" required></textarea>
                                </div>
                                <button type="submit" id="sendBtn" class="btn btn-two arrow-btn">Submit Now <img src="assets/tnc_frappe_custom_app/tnc/img/icons/right_arrow.svg" alt="img" class="injectable"></button>
                            </form>
                            <p class="ajax-response mb-0"></p>
                        </div>
                    </div>
                </div>
                <!-- contact-map -->
                <div class="contact-map" data-aos="fade-up" data-aos-delay="300">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d14394.677083458915!2d85.097273!3d25.5826678!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39f2a94bb6938537%3A0x30ffa69f899712b0!2sTNC%20NURSING%20CLASSES!5e0!3m2!1sen!2sin!4v1727941905511!5m2!1sen!2sin"style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
                <!-- contact-map-end -->
            </div>
        </section>
        <!-- contact-area-end -->

    </main>
    <!-- main-area-end -->



    <!-- footer-area -->
    <!-- footer-area-end -->


    <!-- JS here -->
    <script src="assets/tnc_frappe_custom_app/tnc/js/vendor/jquery-3.6.0.min.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/bootstrap.min.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/imagesloaded.pkgd.min.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/jquery.magnific-popup.min.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/jquery.odometer.min.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/jquery.appear.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/tween-max.min.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/select2.min.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/swiper-bundle.min.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/jquery.marquee.min.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/tg-cursor.min.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/vivus.min.js"></script>
    <!-- <script src="assets/tnc_frappe_custom_app/tnc/js/ajax-form.js"></script> -->
    <script src="assets/tnc_frappe_custom_app/tnc/js/svg-inject.min.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/jquery.circleType.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/jquery.lettering.min.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/plyr.min.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/wow.min.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/aos.js"></script>
    <script src="assets/tnc_frappe_custom_app/tnc/js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.5.0/dist/sweetalert2.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.5.0/dist/sweetalert2.min.css">
    <script>
        // SVGInject(document.querySelectorAll("img.injectable"));

    $(document).ready(function() {
        $("#contact").submit(function(event) {
            event.preventDefault(); // Prevent the default form submission behavior
 
            // Disable the submit button and show loading text
            var submitButton = $("#sendBtn"); // Adjust this to match your button ID or class
            submitButton.prop("disabled", true);
            submitButton.html('<i class="fa fa-spinner fa-spin"></i> Submitting...'); // Show a spinner icon and loading text
 
            // Serialize the form data
            var formData = $(this).serialize();
            var url = window.location.href;
 
            // Send the data to the server-side method using Frappe's AJAX API (frappe.call)
            frappe.call({
                method: "tnc_frappe_custom_app.tnc_custom_app.doctype.contact_form_submission.contact_form_submission.process_form_data",
                args: {
                    form_data: formData,
                    url: url
                },
                callback: function(response) {
                    // Re-enable the submit button and reset its text after the request is complete
                    submitButton.prop("disabled", false);
                    submitButton.html('Submit'); // Restore the original button text
 
                    if (!response.exc) {
                        // Reset the form
                        $("#contact")[0].reset();
                        console.log("response",response)
 
                        // Use SweetAlert for a user-friendly notification
                        Swal.fire("Success!", "Form submitted successfully", "success");
                        // alert("Success")
                    } else {
                        // Display error     using SweetAlert
                        Swal.fire("Error", "Error submitting form data: " + response.exc, "error");
                    }
                },
                error: function(error) {
                    // Handle any errors that might occur during the AJAX call
                    submitButton.prop("disabled", false);
                    submitButton.html('Submit');
                    // alert("Error")
                    Swal.fire("Error", "Something went wrong. Please try again.", "error");
                }
            });
        });
    });

    </script>
</body>
{% endblock %}
